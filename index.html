<!DOCTYPE html>
<html lang="zh_CN" id="zh"
style="background:none;"><head>
<meta charset="utf-8">
<meta name="viewport"
content="initial-scale=1.0, maximum-scale=1.0,
user-scalable=no">
<title>民生长沙权益兑换</title>
<style>
body {
font-family: Arial, sans-serif;
display: flex;
justify-content: center;
align-items: center;
min-height: 100vh;
background-color: #f5f5f5;
margin: 0;
}
.container {
background: white;
padding: 30px;
border-radius: 8px;
box-shadow: 0 2px 10px
rgba(0,0,0,0.1);
width: 90%;
max-width: 500px;
}
input[type="url"] {
width: 100%;
padding: 12px;
font-size: 16px;
border: 1px solid #ddd;
border-radius: 4px;
box-sizing: border-box;
margin-bottom: 15px;
}
input:invalid {
border-color: #ff6b6b;
}
button {
background-color: #4CAF50;
color: white;
border: none;
padding: 12px 20px;
font-size: 16px;
border-radius: 4px;
cursor: pointer;
width: 100%;
transition: background-color 0.3s;
}
button:hover {
background-color: #45a049;
}
.error {
color: #ff6b6b;
margin-top: 8px;
display: none;
}
</style>
</head>
<body>
<div class="container">
<h2>网址跳转工具</h2>
<form id="urlForm">
<input type="url" id="urlInput"
placeholder="请输入完整网址（如：https://www.cmbc.com.cn）"
required>
<div id="errorMsg"
class="error">请输入有效的网址（需包含协议如http://）</div>
<button
type="submit">跳转到网址</button>
</form>
</div>
<script>
const form =
document.getElementById('urlForm');
const urlInput =
document.getElementById('urlInput');
const errorMsg =
document.getElementById('errorMsg');
// 自定义验证消息
urlInput.addEventListener('invalid', function()
{
if (this.validity.valueMissing) {
this.setCustomValidity('网址不能为空');
} else if (this.validity.typeMismatch)
{
this.setCustomValidity('请输入有效的网址（需包含协议如http://）');
}
});
// 清除自定义验证消息
urlInput.addEventListener('input', function()
{
this.setCustomValidity('');
errorMsg.style.display = 'none';
});
// 表单提交处理
form.addEventListener('submit', function(event)
{
event.preventDefault(); //
阻止默认提交行为
// 手动验证
if (!urlInput.checkValidity()) {
// 显示自定义错误
errorMsg.textContent =
urlInput.validationMessage;
errorMsg.style.display = 'block';
return;
}
// 获取并处理URL
let url = urlInput.value.trim();
// 添加协议前缀（如果用户忘记输入）
if (!url.startsWith('http://') &&
!url.startsWith('https://')) {
url = 'https://' + url;
}
// 执行跳转
try {
new URL(url); // 验证URL格式
window.location.href = url;
} catch (e) {
errorMsg.textContent =
'网址格式无效，请检查后重试';
errorMsg.style.display = 'block';
}
});
</script>
</body>
</html>